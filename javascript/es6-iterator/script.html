<script code-main>
    // 对象本身并不具备 for...of 循环的能力
    // 通过增加 iterator 方法为对象增加 for...of 循环的能力
    const testObj1 = {
        a: 1,
        b: 2,
        c: 3,
    };

    testObj1[Symbol.iterator] = function () {
        const keys = Object.keys(this);

        let i = keys.length;

        return {
            // 这里要写死一下, 要不调用的 this 会被指向到那个带 next 的对象
            next: () => {
                if (i > 0) {
                    return {
                        value: this[keys[--i]],
                        done: false,
                    };
                } else {
                    return {
                        value: undefined,
                        done: true,
                    };
                }
            },
        };
    };

    for (const val of testObj1) {
        console.log(val);
    }

    // function testFn() {
    //     return 6;
    // }
    //
    // testFn[Symbol.iterator] = function () {
    //
    // }
</script>
